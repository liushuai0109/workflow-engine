# 产研运全生命周期流程状态定义

## 概述

本文档定义了产品、设计、研发、测试、运营等环节的完整状态体系，用于构建全生命周期产研运流程。

---

## 一、产品环节 (Product)

### 1.1 需求管理状态

| 状态 | 说明 | 流转条件 |
|------|------|---------|
| **需求收集** (Requirement Collection) | 收集用户反馈、市场调研、内部需求 | 初始状态 |
| **需求分析** (Requirement Analysis) | 分析需求可行性、优先级、价值评估 | 需求收集完成 |
| **需求评审** (Requirement Review) | 产品团队评审需求，确定是否立项 | 分析完成 |
| **需求确认** (Requirement Confirmed) | 需求已确认，等待排期 | 评审通过 |
| **需求排期** (Requirement Scheduled) | 需求已排入开发计划 | 确认后 |
| **需求变更** (Requirement Changed) | 需求发生变更，需要重新评审 | 变更时 |
| **需求取消** (Requirement Cancelled) | 需求被取消，不再执行 | 取消时 |
| **需求完成** (Requirement Completed) | 需求已实现并上线 | 上线后 |

### 1.2 产品设计状态

| 状态 | 说明 | 流转条件 |
|------|------|---------|
| **产品规划** (Product Planning) | 制定产品路线图、功能规划 | 需求确认后 |
| **PRD 编写** (PRD Writing) | 编写产品需求文档 | 规划完成 |
| **PRD 评审** (PRD Review) | 评审产品需求文档 | 编写完成 |
| **PRD 确认** (PRD Confirmed) | PRD 已确认，进入设计阶段 | 评审通过 |
| **PRD 修订** (PRD Revised) | PRD 需要修订 | 评审不通过 |
| **PRD 归档** (PRD Archived) | PRD 已归档，项目完成 | 项目结束 |

---

## 二、设计环节 (Design)

### 2.1 交互设计状态

| 状态 | 说明 | 流转条件 |
|------|------|---------|
| **交互设计** (Interaction Design) | 设计用户交互流程、信息架构 | PRD 确认后 |
| **交互评审** (Interaction Review) | 评审交互设计方案 | 设计完成 |
| **交互确认** (Interaction Confirmed) | 交互设计已确认 | 评审通过 |
| **交互优化** (Interaction Optimized) | 交互设计需要优化 | 评审不通过 |
| **交互完成** (Interaction Completed) | 交互设计完成，进入视觉设计 | 确认后 |

### 2.2 视觉设计状态

| 状态 | 说明 | 流转条件 |
|------|------|---------|
| **视觉设计** (Visual Design) | 设计视觉样式、UI 界面 | 交互确认后 |
| **视觉评审** (Visual Review) | 评审视觉设计方案 | 设计完成 |
| **视觉确认** (Visual Confirmed) | 视觉设计已确认 | 评审通过 |
| **视觉优化** (Visual Optimized) | 视觉设计需要优化 | 评审不通过 |
| **设计稿交付** (Design Delivered) | 设计稿已交付，进入开发 | 确认后 |
| **设计稿更新** (Design Updated) | 设计稿需要更新 | 变更时 |

### 2.3 设计资源状态

| 状态 | 说明 | 流转条件 |
|------|------|---------|
| **设计资源准备** (Design Assets Preparation) | 准备切图、图标、字体等资源 | 视觉确认后 |
| **设计资源交付** (Design Assets Delivered) | 设计资源已交付给开发 | 准备完成 |
| **设计资源更新** (Design Assets Updated) | 设计资源需要更新 | 变更时 |

---

## 三、研发环节 (Development)

### 3.1 开发任务状态

| 状态 | 说明 | 流转条件 |
|------|------|---------|
| **待开发** (To Do) | 任务已分配，等待开发 | 设计交付后 |
| **开发中** (In Progress) | 正在开发中 | 开始开发 |
| **开发完成** (Development Done) | 开发完成，等待自测 | 开发完成 |
| **自测中** (Self Testing) | 开发人员自测中 | 开发完成后 |
| **自测通过** (Self Test Passed) | 自测通过，提交测试 | 自测通过 |
| **自测不通过** (Self Test Failed) | 自测发现问题，需要修复 | 自测失败 |
| **代码审查** (Code Review) | 代码提交，等待审查 | 自测通过后 |
| **审查通过** (Review Passed) | 代码审查通过 | 审查通过 |
| **审查不通过** (Review Failed) | 代码审查不通过，需要修改 | 审查不通过 |
| **合并完成** (Merged) | 代码已合并到主分支 | 审查通过后 |
| **开发阻塞** (Blocked) | 开发遇到阻塞，等待解决 | 阻塞时 |
| **开发取消** (Cancelled) | 开发任务被取消 | 取消时 |

### 3.2 代码分支状态

| 状态 | 说明 | 流转条件 |
|------|------|---------|
| **分支创建** (Branch Created) | 创建功能分支 | 开始开发 |
| **分支开发** (Branch Development) | 在分支上开发 | 创建后 |
| **分支提交** (Branch Committed) | 代码已提交到分支 | 开发完成 |
| **分支合并** (Branch Merged) | 分支已合并到主分支 | 审查通过 |
| **分支删除** (Branch Deleted) | 分支已删除 | 合并后 |

### 3.3 构建部署状态

| 状态 | 说明 | 流转条件 |
|------|------|---------|
| **构建中** (Building) | 正在构建应用 | 代码合并后 |
| **构建成功** (Build Succeeded) | 构建成功 | 构建完成 |
| **构建失败** (Build Failed) | 构建失败，需要修复 | 构建失败 |
| **部署中** (Deploying) | 正在部署到测试环境 | 构建成功后 |
| **部署成功** (Deploy Succeeded) | 部署成功 | 部署完成 |
| **部署失败** (Deploy Failed) | 部署失败，需要回滚 | 部署失败 |
| **回滚中** (Rolling Back) | 正在回滚到上一版本 | 部署失败时 |
| **回滚完成** (Rollback Completed) | 回滚完成 | 回滚成功 |

---

## 四、测试环节 (Testing)

### 4.1 测试任务状态

| 状态 | 说明 | 流转条件 |
|------|------|---------|
| **待测试** (To Test) | 功能已部署，等待测试 | 部署成功后 |
| **测试中** (Testing) | 正在测试中 | 开始测试 |
| **测试通过** (Test Passed) | 测试通过，可以上线 | 测试通过 |
| **测试不通过** (Test Failed) | 测试发现问题，需要修复 | 测试失败 |
| **回归测试** (Regression Testing) | 修复后回归测试 | 修复后 |
| **测试完成** (Test Completed) | 测试完成，等待上线 | 测试通过 |
| **测试阻塞** (Test Blocked) | 测试遇到阻塞 | 阻塞时 |
| **测试取消** (Test Cancelled) | 测试任务被取消 | 取消时 |

### 4.2 缺陷管理状态

| 状态 | 说明 | 流转条件 |
|------|------|---------|
| **缺陷发现** (Bug Found) | 发现缺陷 | 测试时 |
| **缺陷确认** (Bug Confirmed) | 缺陷已确认 | 发现后 |
| **缺陷分配** (Bug Assigned) | 缺陷已分配给开发 | 确认后 |
| **缺陷修复中** (Bug Fixing) | 正在修复缺陷 | 分配后 |
| **缺陷修复完成** (Bug Fixed) | 缺陷已修复，等待验证 | 修复完成 |
| **缺陷验证** (Bug Verifying) | 验证缺陷是否已修复 | 修复后 |
| **缺陷已解决** (Bug Resolved) | 缺陷已解决 | 验证通过 |
| **缺陷重新打开** (Bug Reopened) | 缺陷未解决，重新打开 | 验证不通过 |
| **缺陷关闭** (Bug Closed) | 缺陷已关闭 | 解决后 |
| **缺陷延期** (Bug Deferred) | 缺陷延期处理 | 延期时 |

### 4.3 测试环境状态

| 状态 | 说明 | 流转条件 |
|------|------|---------|
| **环境准备** (Environment Preparation) | 准备测试环境 | 测试前 |
| **环境就绪** (Environment Ready) | 测试环境已就绪 | 准备完成 |
| **环境使用中** (Environment In Use) | 测试环境正在使用 | 测试中 |
| **环境维护** (Environment Maintenance) | 测试环境维护中 | 维护时 |
| **环境故障** (Environment Failure) | 测试环境故障 | 故障时 |

---

## 五、运营环节 (Operations)

### 5.1 发布管理状态

| 状态 | 说明 | 流转条件 |
|------|------|---------|
| **待发布** (To Release) | 功能已测试通过，等待发布 | 测试通过后 |
| **发布计划** (Release Planning) | 制定发布计划 | 待发布时 |
| **发布审批** (Release Approval) | 等待发布审批 | 计划完成 |
| **审批通过** (Approved) | 发布审批通过 | 审批通过 |
| **审批不通过** (Rejected) | 发布审批不通过 | 审批不通过 |
| **发布准备** (Release Preparation) | 准备发布相关资源 | 审批通过后 |
| **灰度发布** (Gray Release) | 灰度发布中 | 准备完成后 |
| **全量发布** (Full Release) | 全量发布中 | 灰度通过后 |
| **发布完成** (Release Completed) | 发布完成 | 发布成功 |
| **发布回滚** (Release Rollback) | 发布回滚 | 发布失败时 |
| **发布取消** (Release Cancelled) | 发布被取消 | 取消时 |

### 5.2 上线后状态

| 状态 | 说明 | 流转条件 |
|------|------|---------|
| **上线中** (Going Live) | 正在上线 | 发布完成后 |
| **已上线** (Live) | 功能已上线运行 | 上线成功 |
| **运行中** (Running) | 功能正常运行 | 上线后 |
| **监控中** (Monitoring) | 监控功能运行状态 | 运行中 |
| **异常告警** (Alert) | 发现异常，触发告警 | 异常时 |
| **故障处理** (Incident Handling) | 正在处理故障 | 告警后 |
| **故障恢复** (Incident Recovered) | 故障已恢复 | 处理完成 |
| **功能优化** (Optimization) | 功能需要优化 | 优化时 |
| **功能下线** (Deprecated) | 功能已下线 | 下线时 |
| **功能归档** (Archived) | 功能已归档 | 下线后 |

### 5.3 运营活动状态

| 状态 | 说明 | 流转条件 |
|------|------|---------|
| **活动策划** (Campaign Planning) | 策划运营活动 | 初始状态 |
| **活动设计** (Campaign Design) | 设计活动方案 | 策划完成 |
| **活动评审** (Campaign Review) | 评审活动方案 | 设计完成 |
| **活动准备** (Campaign Preparation) | 准备活动资源 | 评审通过 |
| **活动上线** (Campaign Live) | 活动已上线 | 准备完成 |
| **活动进行中** (Campaign Running) | 活动进行中 | 上线后 |
| **活动监控** (Campaign Monitoring) | 监控活动效果 | 进行中 |
| **活动结束** (Campaign Ended) | 活动已结束 | 结束时 |
| **活动复盘** (Campaign Review) | 复盘活动效果 | 结束后 |
| **活动归档** (Campaign Archived) | 活动已归档 | 复盘后 |

---

## 六、跨环节状态

### 6.1 项目整体状态

| 状态 | 说明 | 流转条件 |
|------|------|---------|
| **项目启动** (Project Started) | 项目已启动 | 立项后 |
| **项目进行中** (Project In Progress) | 项目进行中 | 启动后 |
| **项目暂停** (Project Paused) | 项目暂停 | 暂停时 |
| **项目恢复** (Project Resumed) | 项目恢复 | 恢复时 |
| **项目延期** (Project Delayed) | 项目延期 | 延期时 |
| **项目完成** (Project Completed) | 项目完成 | 完成后 |
| **项目取消** (Project Cancelled) | 项目取消 | 取消时 |
| **项目归档** (Project Archived) | 项目归档 | 完成后 |

### 6.2 版本管理状态

| 状态 | 说明 | 流转条件 |
|------|------|---------|
| **版本规划** (Version Planning) | 规划版本功能 | 项目启动后 |
| **版本开发** (Version Development) | 版本开发中 | 规划完成 |
| **版本测试** (Version Testing) | 版本测试中 | 开发完成 |
| **版本发布** (Version Release) | 版本发布中 | 测试通过 |
| **版本上线** (Version Live) | 版本已上线 | 发布完成 |
| **版本维护** (Version Maintenance) | 版本维护中 | 上线后 |
| **版本下线** (Version Deprecated) | 版本已下线 | 下线时 |

---

## 七、可能遗漏的环节

### 7.1 安全环节 (Security)

| 状态 | 说明 | 流转条件 |
|------|------|---------|
| **安全评估** (Security Assessment) | 评估安全风险 | 设计阶段 |
| **安全测试** (Security Testing) | 进行安全测试 | 开发完成后 |
| **安全审计** (Security Audit) | 安全审计 | 上线前 |
| **安全加固** (Security Hardening) | 安全加固 | 发现问题后 |
| **安全监控** (Security Monitoring) | 安全监控 | 上线后 |

### 7.2 合规环节 (Compliance)

| 状态 | 说明 | 流转条件 |
|------|------|---------|
| **合规检查** (Compliance Check) | 检查合规性 | 设计阶段 |
| **合规评审** (Compliance Review) | 合规评审 | 检查完成 |
| **合规确认** (Compliance Confirmed) | 合规确认 | 评审通过 |
| **合规整改** (Compliance Remediation) | 合规整改 | 发现问题后 |

### 7.3 文档环节 (Documentation)

| 状态 | 说明 | 流转条件 |
|------|------|---------|
| **文档编写** (Documentation Writing) | 编写技术文档 | 开发中 |
| **文档评审** (Documentation Review) | 评审文档 | 编写完成 |
| **文档发布** (Documentation Published) | 文档发布 | 评审通过 |
| **文档更新** (Documentation Updated) | 文档更新 | 变更时 |

### 7.4 数据分析环节 (Analytics)

| 状态 | 说明 | 流转条件 |
|------|------|---------|
| **数据埋点设计** (Analytics Design) | 设计数据埋点 | 设计阶段 |
| **数据埋点开发** (Analytics Development) | 开发数据埋点 | 开发阶段 |
| **数据埋点测试** (Analytics Testing) | 测试数据埋点 | 测试阶段 |
| **数据收集** (Data Collection) | 收集数据 | 上线后 |
| **数据分析** (Data Analysis) | 分析数据 | 收集后 |
| **数据报告** (Data Reporting) | 生成数据报告 | 分析后 |

### 7.5 用户反馈环节 (User Feedback)

| 状态 | 说明 | 流转条件 |
|------|------|---------|
| **反馈收集** (Feedback Collection) | 收集用户反馈 | 上线后 |
| **反馈分析** (Feedback Analysis) | 分析用户反馈 | 收集后 |
| **反馈处理** (Feedback Processing) | 处理用户反馈 | 分析后 |
| **反馈跟进** (Feedback Follow-up) | 跟进反馈处理 | 处理后 |

---

## 八、状态流转图

### 8.1 完整流程状态流转

```
需求收集 → 需求分析 → 需求评审 → 需求确认 → 需求排期
    ↓
产品规划 → PRD 编写 → PRD 评审 → PRD 确认
    ↓
交互设计 → 交互评审 → 交互确认
    ↓
视觉设计 → 视觉评审 → 视觉确认 → 设计稿交付
    ↓
待开发 → 开发中 → 开发完成 → 自测 → 代码审查 → 合并完成
    ↓
构建 → 部署 → 待测试 → 测试中 → 测试通过
    ↓
待发布 → 发布审批 → 灰度发布 → 全量发布 → 已上线
    ↓
运行中 → 监控中 → (异常告警 → 故障处理 → 故障恢复)
```

### 8.2 关键决策点

1. **需求评审** - 决定是否立项
2. **PRD 评审** - 决定是否进入设计
3. **设计评审** - 决定是否进入开发
4. **代码审查** - 决定是否合并代码
5. **测试通过** - 决定是否发布
6. **发布审批** - 决定是否上线
7. **异常告警** - 决定是否回滚

---

## 九、状态统计

### 9.1 各环节状态数量

| 环节 | 状态数量 | 主要状态 |
|------|---------|---------|
| **产品** | 15 | 需求管理、产品设计 |
| **设计** | 13 | 交互设计、视觉设计、设计资源 |
| **研发** | 19 | 开发任务、代码分支、构建部署 |
| **测试** | 18 | 测试任务、缺陷管理、测试环境 |
| **运营** | 20 | 发布管理、上线后、运营活动 |
| **跨环节** | 15 | 项目整体、版本管理 |
| **补充环节** | 20 | 安全、合规、文档、数据分析、用户反馈 |
| **总计** | **120+** | 覆盖全生命周期 |

---

## 十、建议

### 10.1 状态设计原则

1. **状态粒度适中** - 不要太细（增加复杂度），不要太粗（缺少信息）
2. **状态互斥** - 同一时间只能有一个状态
3. **状态可追溯** - 记录状态变更历史
4. **状态可回退** - 支持状态回退（如：测试不通过 → 开发中）

### 10.2 实施建议

1. **分阶段实施** - 先实现核心状态，再逐步完善
2. **状态映射** - 将现有状态映射到新状态体系
3. **状态可视化** - 在 BPMN 编辑器中可视化状态流转
4. **状态自动化** - 通过 CI/CD 自动更新部分状态

### 10.3 扩展建议

1. **自定义状态** - 允许团队自定义状态
2. **状态模板** - 提供不同场景的状态模板
3. **状态规则** - 定义状态流转规则和权限
4. **状态通知** - 状态变更时发送通知

---

**文档版本**: v1.0  
**最后更新**: 2025-12-11  
**维护者**: Claude Code
