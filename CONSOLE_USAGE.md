# ğŸš€ BPMN Explorer æœåŠ¡æ§åˆ¶å°ä½¿ç”¨æŒ‡å—

## ğŸ“‹ æ¦‚è¿°

`console.sh` æ˜¯ BPMN Explorer é¡¹ç›®çš„ç»Ÿä¸€æœåŠ¡ç®¡ç†è„šæœ¬ï¼Œæ•´åˆäº†å¯åŠ¨ã€åœæ­¢ã€é‡å¯ç­‰åŠŸèƒ½ã€‚

## ğŸ¯ åŸºæœ¬ç”¨æ³•

```bash
./console.sh <command> [target]
```

### å‘½ä»¤ (command)

| å‘½ä»¤ | è¯´æ˜ |
|------|------|
| `start` | å¯åŠ¨æœåŠ¡ |
| `stop` | åœæ­¢æœåŠ¡ |
| `restart` | é‡å¯æœåŠ¡ |
| `status` | æŸ¥çœ‹æœåŠ¡çŠ¶æ€ |
| `help` | æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯ |

### ç›®æ ‡ (target)

| ç›®æ ‡ | è¯´æ˜ |
|------|------|
| `client` | ä»…æ“ä½œå‰ç«¯æœåŠ¡ (Vue + Vite, ç«¯å£ 8000) |
| `server` | ä»…æ“ä½œåç«¯æœåŠ¡ (Go, ç«¯å£ 3000) |
| `(ç©º)` æˆ– `all` | æ“ä½œæ‰€æœ‰æœåŠ¡ (é»˜è®¤) |

## ğŸ“ ä½¿ç”¨ç¤ºä¾‹

### å¯åŠ¨æœåŠ¡

```bash
# å¯åŠ¨æ‰€æœ‰æœåŠ¡ (server + client)
./console.sh start

# åªå¯åŠ¨å‰ç«¯
./console.sh start client

# åªå¯åŠ¨åç«¯
./console.sh start server
```

### åœæ­¢æœåŠ¡

```bash
# åœæ­¢æ‰€æœ‰æœåŠ¡
./console.sh stop

# åªåœæ­¢å‰ç«¯
./console.sh stop client

# åªåœæ­¢åç«¯
./console.sh stop server
```

### é‡å¯æœåŠ¡

```bash
# é‡å¯æ‰€æœ‰æœåŠ¡
./console.sh restart

# åªé‡å¯å‰ç«¯
./console.sh restart client

# åªé‡å¯åç«¯
./console.sh restart server
```

### æŸ¥çœ‹çŠ¶æ€

```bash
# æŸ¥çœ‹æ‰€æœ‰æœåŠ¡çŠ¶æ€
./console.sh status
```

## ğŸ¨ è¾“å‡ºç¤ºä¾‹

### å¯åŠ¨æ‰€æœ‰æœåŠ¡

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  æ­£åœ¨å¯åŠ¨æ‰€æœ‰æœåŠ¡
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
[INFO] æ­£åœ¨å¯åŠ¨ Server (Go)...
[SUCCESS] Server å·²å¯åŠ¨ (PID: 123456)
[INFO] Server è®¿é—®åœ°å€: http://21.91.238.173:3000
[INFO] Server æ—¥å¿—: /data/mm64/simonsliu/xflow/bpmn-explorer/.pids/server.log

[INFO] æ­£åœ¨å¯åŠ¨ Client (Vue + Vite)...
[SUCCESS] Client å·²å¯åŠ¨ (PID: 123457)
[INFO] Client è®¿é—®åœ°å€: http://21.91.238.173:8000
[INFO] Client æ—¥å¿—: /data/mm64/simonsliu/xflow/bpmn-explorer/.pids/client.log

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  æœåŠ¡çŠ¶æ€
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  âœ“ Client è¿è¡Œä¸­ (PID: 123457)
    â†’ http://21.91.238.173:8000
    â†’ æ—¥å¿—: /data/mm64/simonsliu/xflow/bpmn-explorer/.pids/client.log

  âœ“ Server è¿è¡Œä¸­ (PID: 123456)
    â†’ http://21.91.238.173:3000
    â†’ æ—¥å¿—: /data/mm64/simonsliu/xflow/bpmn-explorer/.pids/server.log
```

### æŸ¥çœ‹çŠ¶æ€

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  æœåŠ¡çŠ¶æ€
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  âœ“ Client è¿è¡Œä¸­ (PID: 123457)
    â†’ http://21.91.238.173:8000
    â†’ æ—¥å¿—: /data/mm64/simonsliu/xflow/bpmn-explorer/.pids/client.log

  âœ“ Server è¿è¡Œä¸­ (PID: 123456)
    â†’ http://21.91.238.173:3000
    â†’ æ—¥å¿—: /data/mm64/simonsliu/xflow/bpmn-explorer/.pids/server.log
```

## ğŸ“ æ–‡ä»¶ä½ç½®

### æ—¥å¿—æ–‡ä»¶

- **Client æ—¥å¿—**: `.pids/client.log`
- **Server æ—¥å¿—**: `.pids/server.log`

### PID æ–‡ä»¶

- **Client PID**: `.pids/client.pid`
- **Server PID**: `.pids/server.pid`

## ğŸŒ è®¿é—®åœ°å€

- **å‰ç«¯ (Client)**: http://21.91.238.173:8000
- **åç«¯ (Server)**: http://21.91.238.173:3000

> **æ³¨æ„**: IP åœ°å€ä¼šæ ¹æ®ä½ çš„æœåŠ¡å™¨è‡ªåŠ¨æ£€æµ‹å’Œæ˜¾ç¤º

## ğŸ”§ æ•…éšœæ’æŸ¥

### é—®é¢˜ï¼šå¯åŠ¨å¤±è´¥

**æ£€æŸ¥æ—¥å¿—**:
```bash
# æŸ¥çœ‹ Client æ—¥å¿—
tail -f .pids/client.log

# æŸ¥çœ‹ Server æ—¥å¿—
tail -f .pids/server.log
```

### é—®é¢˜ï¼šç«¯å£è¢«å ç”¨

**æ£€æŸ¥ç«¯å£å ç”¨**:
```bash
# æ£€æŸ¥ 8000 ç«¯å£
lsof -i :8000

# æ£€æŸ¥ 3000 ç«¯å£
lsof -i :3000
```

**åœæ­¢å ç”¨è¿›ç¨‹**:
```bash
# åœæ­¢æ‰€æœ‰æœåŠ¡
./console.sh stop

# æˆ–æ‰‹åŠ¨ kill
kill -9 <PID>
```

### é—®é¢˜ï¼šGo æœªæ‰¾åˆ°

è„šæœ¬ä¼šè‡ªåŠ¨æ£€æµ‹å¸¸è§çš„ Go å®‰è£…è·¯å¾„ï¼š
- `/data/mm64/simonsliu/go/bin/go`
- ç³»ç»Ÿ PATH ä¸­çš„ `go`

å¦‚æœä»ç„¶å¤±è´¥ï¼Œè¯·å®‰è£… Go æˆ–è®¾ç½® PATHã€‚

### é—®é¢˜ï¼šä¾èµ–æœªå®‰è£…

**Client ä¾èµ–**:
```bash
cd client
npm install
```

**Server ä¾èµ–**:
```bash
cd server
go mod download
```

## ğŸ’¡ é«˜çº§ç”¨æ³•

### åå°è¿è¡Œå¹¶æŸ¥çœ‹æ—¥å¿—

```bash
# å¯åŠ¨æœåŠ¡
./console.sh start

# å®æ—¶æŸ¥çœ‹æ—¥å¿—
tail -f .pids/client.log .pids/server.log
```

### ä½¿ç”¨ Ctrl+C å®‰å…¨åœæ­¢

è„šæœ¬æ”¯æŒ Ctrl+C ä¿¡å·æ•è·ï¼Œä¼šè‡ªåŠ¨ä¼˜é›…åœæ­¢æ‰€æœ‰æœåŠ¡ã€‚

### å¿«é€Ÿé‡å¯å¼€å‘ç¯å¢ƒ

```bash
# ä¿®æ”¹å‰ç«¯ä»£ç åï¼Œå¿«é€Ÿé‡å¯å‰ç«¯
./console.sh restart client

# ä¿®æ”¹åç«¯ä»£ç åï¼Œå¿«é€Ÿé‡å¯åç«¯
./console.sh restart server
```

## ğŸ†š ä¸æ—§è„šæœ¬å¯¹æ¯”

| åŠŸèƒ½ | start.sh | stop.sh | console.sh |
|------|----------|---------|------------|
| å¯åŠ¨æœåŠ¡ | âœ… | âŒ | âœ… |
| åœæ­¢æœåŠ¡ | âœ… (é€šè¿‡ stop å‚æ•°) | âœ… | âœ… |
| é‡å¯æœåŠ¡ | âŒ | âŒ | âœ… |
| æŸ¥çœ‹çŠ¶æ€ | âœ… | âŒ | âœ… |
| å•ç‹¬æ“ä½œ client/server | âœ… | âŒ | âœ… |
| å½©è‰²è¾“å‡º | âœ… | âœ… | âœ… (æ›´ä¸°å¯Œ) |
| ç»Ÿä¸€ç•Œé¢ | âŒ | âŒ | âœ… |

## ğŸ‰ æ¨èå·¥ä½œæµ

### å¼€å‘ç¯å¢ƒå¿«é€Ÿå¯åŠ¨

```bash
# 1. å¯åŠ¨æ‰€æœ‰æœåŠ¡
./console.sh start

# 2. æŸ¥çœ‹çŠ¶æ€ç¡®è®¤
./console.sh status

# 3. è®¿é—®å‰ç«¯å¼€å§‹å¼€å‘
# http://21.91.238.173:8000

# 4. ä»£ç ä¿®æ”¹åé‡å¯å¯¹åº”æœåŠ¡
./console.sh restart client  # æˆ– server
```

### è°ƒè¯•å•ä¸ªæœåŠ¡

```bash
# åªå¯åŠ¨éœ€è¦è°ƒè¯•çš„æœåŠ¡
./console.sh start server

# æŸ¥çœ‹å®æ—¶æ—¥å¿—
tail -f .pids/server.log

# è°ƒè¯•å®Œæˆååœæ­¢
./console.sh stop server
```

### å®Œå…¨é‡å¯ç¯å¢ƒ

```bash
# åœæ­¢æ‰€æœ‰æœåŠ¡
./console.sh stop

# æ¸…ç†æ—¥å¿— (å¯é€‰)
rm .pids/*.log

# é‡æ–°å¯åŠ¨
./console.sh start
```

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [é¡¹ç›® README](./README.md)
- [Mock & Debug åŠŸèƒ½æ•…éšœæ’æŸ¥](./MOCK_DEBUG_TROUBLESHOOTING.md)
- [API è®¾ç½®æŒ‡å—](./API_SETUP.md)

## ğŸ¤ è·å–å¸®åŠ©

é‡åˆ°é—®é¢˜ï¼Ÿè¿è¡Œå¸®åŠ©å‘½ä»¤ï¼š

```bash
./console.sh help
```

æˆ–æŸ¥çœ‹å®Œæ•´æ–‡æ¡£ï¼š

```bash
cat CONSOLE_USAGE.md
```
