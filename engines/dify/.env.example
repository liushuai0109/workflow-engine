# Dify Environment Configuration

# ===========================================
# Basic Configuration
# ===========================================

# Application mode: api or worker
MODE=api

# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Secret key for encryption (IMPORTANT: Change this in production!)
SECRET_KEY=

# ===========================================
# Database Configuration
# ===========================================

# PostgreSQL
POSTGRES_USER=postgres
POSTGRES_PASSWORD=difyai123456
POSTGRES_DB=dify
DB_HOST=db
DB_PORT=5432

# ===========================================
# Redis Configuration
# ===========================================

REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=difyai123456
REDIS_DB=0

# ===========================================
# Storage Configuration
# ===========================================

# Storage type: local, s3, azure-blob, google-storage
STORAGE_TYPE=local
STORAGE_LOCAL_PATH=/app/storage

# S3 Storage (if using S3)
# S3_ENDPOINT=https://s3.amazonaws.com
# S3_BUCKET_NAME=dify
# S3_ACCESS_KEY=your-access-key
# S3_SECRET_KEY=your-secret-key
# S3_REGION=us-east-1

# ===========================================
# Vector Database Configuration
# ===========================================

# Vector store: weaviate, qdrant, milvus, pgvector
VECTOR_STORE=weaviate
WEAVIATE_ENDPOINT=http://weaviate:8080

# Qdrant (if using Qdrant)
# QDRANT_URL=http://qdrant:6333
# QDRANT_API_KEY=your-api-key

# ===========================================
# API Configuration
# ===========================================

# Console API URL
CONSOLE_API_URL=http://localhost/console/api

# App API URL
APP_API_URL=http://localhost/api

# Service API URL
SERVICE_API_URL=http://localhost/api

# Expose port
EXPOSE_PORT=80

# ===========================================
# CORS Configuration
# ===========================================

CONSOLE_CORS_ALLOW_ORIGINS=*
WEB_API_CORS_ALLOW_ORIGINS=*

# ===========================================
# LLM Provider API Keys
# ===========================================

# OpenAI
OPENAI_API_KEY=

# Anthropic Claude
ANTHROPIC_API_KEY=

# Google (Gemini)
GOOGLE_API_KEY=

# Azure OpenAI
# AZURE_OPENAI_API_KEY=
# AZURE_OPENAI_ENDPOINT=
# AZURE_OPENAI_API_VERSION=

# Cohere
# COHERE_API_KEY=

# Hugging Face
# HUGGINGFACE_API_KEY=

# ===========================================
# Additional Services
# ===========================================

# Sentry (Error tracking)
# SENTRY_DSN=

# Mail Server (for notifications)
# MAIL_TYPE=smtp
# MAIL_DEFAULT_SEND_FROM=
# SMTP_SERVER=
# SMTP_PORT=587
# SMTP_USERNAME=
# SMTP_PASSWORD=
# SMTP_USE_TLS=true

# ===========================================
# Feature Flags
# ===========================================

# Enable file upload
FILE_UPLOAD_ENABLED=true

# Max file upload size (MB)
MAX_FILE_SIZE=15

# Enable debugging
# DEBUG=false

# ===========================================
# Rate Limiting
# ===========================================

# Rate limit for API calls
API_RATE_LIMIT=60

# ===========================================
# Celery Configuration
# ===========================================

CELERY_BROKER_URL=redis://:difyai123456@redis:6379/1
