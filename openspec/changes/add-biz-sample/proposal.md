# 变更：添加证券业务示例应用（biz-sample）

## 为什么

为了演示和测试 BPMN 工作流在实际业务场景中的应用，需要创建一个完整的业务示例应用。该应用模拟证券手机 App 的核心业务流程，包括用户注册、开户、入金和交易等场景。这将：

1. **业务场景验证**：提供真实业务场景来验证工作流引擎的功能
2. **集成测试**：作为工作流引擎与业务系统集成的测试平台
3. **演示和培训**：为团队提供可运行的业务示例，便于理解工作流在实际业务中的应用
4. **开发参考**：为其他业务系统集成提供参考实现

## 变更内容

### 1. 项目结构
- 在项目根目录下创建 `biz-sample/` 目录
- 使用 Lerna 管理 monorepo 结构
- 包含 `packages/client/`（Vue 3 + TypeScript）和 `packages/server/`（Node.js + TypeScript + Koa）两个子包
- 通过 Lerna 统一管理依赖和脚本
- 使用 `npm run start` 启动服务（替代 `npm run dev`）

### 2. 后端服务（Node.js + Koa）
- 实现用户注册 API
- 实现开户 API
- 实现入金 API
- 实现交易 API
- 提供统一的错误处理和响应格式
- 支持 CORS 配置（允许 `client.biz.com` 域名，包括带端口的开发环境）
- 提供健康检查端点
- 配置部署域名：生产环境 `server.biz.com`，开发环境 `server.biz.com:4000`

### 3. 前端应用（Vue 3 + TypeScript）
- 实现用户注册页面
- 实现开户页面
- 实现入金页面
- 实现交易页面
- 实现路由导航
- 实现 API 调用服务（生产环境 `https://server.biz.com`，开发环境 `http://server.biz.com:4000`）
- 实现响应式 UI 设计（适配手机 App 场景）
- 配置部署域名：生产环境 `client.biz.com`，开发环境 `client.biz.com:8080`

### 4. 业务场景
- **注册**：用户填写手机号、验证码、密码等信息完成注册
- **开户**：用户提交身份信息、银行卡信息等完成证券账户开户
- **入金**：用户从银行卡转入资金到证券账户
- **交易**：用户进行股票买卖交易操作

## 影响

- **受影响的规范**：
  - 新增 `biz-sample` 规范能力
- **受影响的代码**：
  - 新增 `biz-sample/` 目录及其所有内容
  - 不影响现有代码结构
- **数据影响**：
  - 无数据库依赖（或使用独立的数据库/内存存储）
  - 不影响现有数据
- **用户影响**：
  - 提供完整的业务示例应用
  - 可作为工作流引擎的业务接口集成示例
  - 便于理解工作流在实际业务中的应用场景

